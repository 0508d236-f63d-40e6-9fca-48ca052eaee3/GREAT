#!/bin/bash

echo "๐ ุจุฏุก ุนูููุฉ ุงููุดุฑ ุนูู Vercel..."
echo "=================================="

# ุงูุชุญูู ูู Node.js
echo "๐ ูุญุต ูุชุทูุจุงุช ุงููุธุงู..."
node --version
npm --version

# ุชูุธูู ุงููุดุฑูุน
echo "๐งน ุชูุธูู ุงููุดุฑูุน..."
rm -rf .next
rm -rf node_modules
rm -rf out

# ุชุซุจูุช ุงูุชุจุนูุงุช
echo "๐ฆ ุชุซุจูุช ุงูุชุจุนูุงุช..."
npm install

# ูุญุต ุงูุฃุฎุทุงุก
echo "๐ ูุญุต ุงูููุฏ..."
npm run lint --fix 2>/dev/null || echo "โ๏ธ ESLint ุบูุฑ ูุชุงุญ"

# ุจูุงุก ุงููุดุฑูุน
echo "๐๏ธ ุจูุงุก ุงููุดุฑูุน..."
npm run build

if [ $? -eq 0 ]; then
    echo "โ ุชู ุจูุงุก ุงููุดุฑูุน ุจูุฌุงุญ"
else
    echo "โ ูุดู ูู ุจูุงุก ุงููุดุฑูุน"
    exit 1
fi

# ุชุซุจูุช Vercel CLI
echo "๐ง ุชุซุจูุช Vercel CLI..."
npm install -g vercel

echo "โ ุงููุดุฑูุน ุฌุงูุฒ ูููุดุฑ!"
echo "๐ ูู ุจุชุดุบูู: vercel --prod"
